# 全局缩放：
* 对全体带有固定尺寸的元素应用缩放，对所有自动尺寸元素仅传递缩放
* 若Parent拥有缩放，则对其所有子元素递归地更新上下文缩放，若需要则重新进行布局

# 边界已知表布局：
边界已知即表的总大小已知且固定：

## Cell
Cell用以对表中每个元素表示其 *分配空间*，*最小尺寸*，*最大尺寸*，*推荐尺寸*，*padding*，*margin*，*align*，*scaling*
* *分配空间*：各种布局中对子元素分配的可用总空间，这是一个上下文属性
* *最小尺寸*：*分配空间*不小于*最小尺寸*，仅当所有子元素的最小尺寸和小于等于父元素的*内容尺寸*
* *最大尺寸*：*分配空间*不大于*最大尺寸*
* *推荐尺寸*：`{type, value}`
`type`可以是下面的几种：
> *决定性*: 直接通过`value`指定元素的尺寸，忽略最小最大尺寸。*决定性*元素的尺寸的最大值优先决定行/列的最大尺寸

> *缩放推导*: 当某侧的尺寸决定时，使用该侧尺寸的`value`倍大小作为尺寸。宽高不应都为缩放推导

> *自动尺寸*: 与其它元素自动分配大小时，`value`作为分配大小的权重

> *外部依赖*: 尺寸依照元素实际值决定，`value`作为分配大小的权重

优先级：*决定性* > 目标侧为*决定性*的*缩放推导* > *自动权重* > 目标侧为*自动权重*的*缩放推导*，*外部依赖*视情况应用

* *padding* 向外边距
* *margin* 向内边距
* *align* 当*分配空间*小于表布局因对齐产生的最大空间时应用的缩放。若不指定则将子元素缩放到*分配空间*的大小
* *scaling* 应用于*分配空间*，缩放方向同*align*产生的对齐。不指定对齐则使用中心对齐。

所有效果最终应用到子元素的**相对坐标**和**尺寸**，其中*scaling***不**计入子元素的缩放


## 水平优先布局：
### Cell水平空间分配：
水平优先布局时，各子元素的Cell垂直对齐

1. 计算列元素的水平*padding*和，内容尺寸宽减去它得到可用水平空间
2. 给全体固定尺寸的元素分配水平空间
3. 若自动权重元素所在的列存在*宽决定性*元素，取最大的决定性宽作为宽度。减去*宽决定性*元素占据的空间后，余下的*自动尺寸*元素，按照尺寸权重，给全体*自动尺寸*的元素分配水平空间
* 边界已知时，水平的*外部依赖*，非决定的*缩放推导*被**忽略**，退化到*自动尺寸*；边界未知时，非决定的*缩放推导*， *自动尺寸*被忽略

### Cell垂直空间对齐：
1. 获取行元素的最大上下*padding*作为整个布局的上下*padding*
2. 按照推荐尺寸顺序应用到竖直尺寸
3. 以占据最大垂直空间的元素的高作为布局每行的高

## 垂直优先布局：同转置后的水平布局空间分配

## 自由布局：
自由布局时，各子元素的Cell各向对齐

1. 计算全部元素的各向最大*padding*和，内容尺寸宽减去它得到可用空间
2. 给全体固定尺寸的元素分配空间
3. 获取*决定性*元素所在的行列，用每列最大宽作为列宽，行最大高作为行高。这些行列的其余元素的对应尺寸由*决定性*元素尺寸支配
4. 给全体待定元素按照权重尝试分配余下的空间。仅进行一次布局。余下的空间按照自动尺寸元素的权进行分配

# 边界未知表布局
边界未知即表的某个方向的大小未知：通常表在这种情况下可用扩展到无限大小

## 相对边界已知的相同点和区别：
* 所有*决定性*元素仍然占支配权
* 若为*外部依赖*，则直接布局并提升到*决定性*
* 若水平尺寸已知，则同**边界已知水平优先布局**，除了待定元素可以获取到无限制的高，而若一行全为*自动布局*元素，则无法获得行高。
* 垂直优先布局，自由布局与上类似


# 约束布局：



